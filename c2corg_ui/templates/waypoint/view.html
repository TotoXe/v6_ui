<%inherit file="../base.html"/>
<%namespace file="../helpers.mako" import="get_attr"/>
<%
waypoint_id = waypoint['document_id']
other_cultures = filter(lambda l: l != culture, waypoint['available_cultures'])
geometry4326 = transform(geometry, 'epsg:3857', 'epsg:4326')
%>\

<%block name="pagetitle">
${locale['title']}
</%block>

<h1>${self.pagetitle()}</h1>
<ul>
  <li>Id: ${waypoint_id}</li>
  <li>Culture: ${culture}</li>
  <li>Elevation: ${waypoint['elevation']} m</li>
  <li>Longitude: ${geometry4326.x} °E</li>
  <li>Latitude: ${geometry4326.y} °N</li>
  <li>Maps info: ${get_attr(waypoint, 'maps_info')}</li>
  <li>Description: ${get_attr(locale, 'description')}</li>
</ul>
% if other_cultures:
  <p>View in other culture:</p>
  <ul>
  % for l in other_cultures:
    <li><a href="${request.route_url('waypoints_view', id=waypoint_id, culture=l)}">${l}</a></li>
  % endfor
  </ul>
% endif
<div id="map" ngeo-map="mainCtrl.map"></div>
<ul>
  <li>History (TODO)</li>
  <li><a href="${request.route_url('waypoints_edit', id=waypoint_id, culture=culture)}">Edit</a></li>
</ul>
